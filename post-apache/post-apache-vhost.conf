# Risk Debug View â€“ Apache vhost (network access via machine IP)
# Serves post-apache/ at http://<machine-ip>/ and proxies /api/ to the API on the SERVER.
#
# Architecture: UI + Apache = local; API + DB = server (Docker). No local Docker required.
# Before use: replace <SERVER-IP> and <API-PORT> with your server (e.g. 158.220.83.195 and 8000).
#
# Bind: *:80 = all interfaces (reachable from LAN/external).
# Enable proxy: LoadModule proxy_module, proxy_http_module in httpd.conf.
# Include this file from httpd.conf or copy into conf/extra/httpd-vhosts.conf.

<VirtualHost *:80>
    DocumentRoot "c:/Users/WatMax/NetBet/post-apache"
    <Directory "c:/Users/WatMax/NetBet/post-apache">
        Require all granted
        Options -Indexes
        DirectoryIndex index.html
    </Directory>

    # Proxy /api/* to Risk Analytics API on the SERVER (Docker), not localhost
    ProxyPreserveHost On
    ProxyPass        /api/  http://<SERVER-IP>:<API-PORT>/
    ProxyPassReverse /api/  http://<SERVER-IP>:<API-PORT>/

    ErrorLog "logs/post-apache-debug-error.log"
    CustomLog "logs/post-apache-debug-access.log" combined
</VirtualHost>
